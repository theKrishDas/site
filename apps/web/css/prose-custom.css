@utility prose {
  --tw-prose-body: oklch(0.375 0 0);
  @variant dark {
    --tw-prose-body: oklch(0.875 0 0);
  }

  h2 {
    @apply text-[1.025rem] leading-normal font-semibold text-[oklch(0.3_0_0)] dark:text-white decoration-[1.5px];
    @apply mb-6 mt-12 md:mt-14;
    scroll-margin-top: 2rem;
  }

  h3 {
    @apply text-[0.9rem] font-semibold tracking-[0.01em] text-[oklch(0.3_0_0)] dark:text-white decoration-[1.5px];
    @apply mb-6 mt-12 md:mt-14;
    scroll-margin-top: 2rem;
  }

  p {
    @apply mb-6.5;
  }

  em {
    @apply font-source-serif text-lg italic;
  }

  blockquote {
    @apply text-2xl leading-[1.33] md:text-3xl font-source-serif font-normal not-italic;
    em {
      font-size: 1.025em;
    }
  }

  a {
    @apply decoration-separator-opaque;
  }

  img {
    border-radius: 1.375rem;
    /* biome-ignore lint/correctness/noUnknownProperty: it does exisit */
    corner-shape: squircle;
  }

  figcaption {
    @apply text-center text-gray-2 text-sm;
  }

  /**
   * ! EXPERIMENTAL - Shiki code container styles
   *
   * Required dependencies:
   * - @repo/tailwind-config/utils
   *
   * Scope: Shiki code block container elements
   */
  div[data-orientation="horizontal"]:has(figure.shiki) {
    @apply max-sm:flush-width;
  }
  figure.shiki {
    /* depends on @repo/tailwind-config/utils */
    @apply max-sm:flush-width;
  }

  /* Remove shadows from code blocks */
  pre:not(.not-fumadocs-codeblock *),
  code:not(.not-fumadocs-codeblock *),
  .shiki,
  figure.shiki,
  [data-rehype-pretty-code-fragment],
  [data-rehype-pretty-code-figure] {
    box-shadow: none;
  }
}

.shiki:not(.not-fumadocs-codeblock *) {
  box-shadow: none;
}
.dark .shiki:not(.not-fumadocs-codeblock *) {
  box-shadow: none;
}

/* Additional overrides for any container elements that might have shadows */
[data-rehype-pretty-code-fragment],
[data-rehype-pretty-code-figure],
.fumadocs-codeblock,
.fumadocs-codeblock-container {
  box-shadow: none;
}
